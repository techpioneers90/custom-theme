<div class="show-now-section">
	<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20" color="currentColor" fill="none" aria-hidden="true">
		<path d="M2 12s3.5-6 10-6 10 6 10 6-3.5 6-10 6-10-6-10-6Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
		<circle cx="12" cy="12" r="3" stroke="currentColor" stroke-width="1.5"/>
	</svg>
	<span class="viewers-text"></span>
</div>
<script>
(function(){
  function rand(min, max){ 
    return Math.floor(Math.random() * (max - min + 1)) + min; 
  }

  function updateText(){
    var n = rand(30, 70);
    var txt = "{{ txt }}";
    // إذا كان النص يحتوي على %s، استبدله بالعدد
    if (txt.indexOf('%s') !== -1) {
      txt = txt.replace('%s', n);
    } else {
      // إذا لم يكن يحتوي على %s، ضع العدد قبل النص
      txt = n + ' ' + txt;
    }
    el.textContent = txt;

    var nextDelay = rand(10, 20) * 1000;
    setTimeout(updateText, nextDelay);
  }

  var script = document.currentScript;
  var container = script.previousElementSibling;
  var el = container && container.classList.contains('show-now-section') 
    ? container.querySelector('.viewers-text') 
    : null;
  
  if(el){
    updateText();
  }
})();
</script>